<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Generator</title>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"
            integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
            crossorigin="anonymous"></script>
</head>
<body>
<div id="wrapper">

</div>
<script>
    window.onload = function () {
        createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);
        createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);
        createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);
    };

    let createBook = (function () {
            let id = 1;
            return function (selector, title, author, isbn) {
                    let div = $("<div>")
                            .attr('id', "book" + id)
                            .css('border', '');
                    id++;
                    let titleParagraph = $("<p>").attr('class', "title").text(title);
                    let authorParagraph = $("<p>").attr('class', "author").text(author);
                    let ISBN_Paragraph = $("<p>").attr('class', "isbn").text(isbn);
                    let selectButton = $("<button>").text("Select");
                    selectButton.on('click', function () {
                        $(div).css("border", "2px solid blue");
                    });
                    let deselectButton = $("<button>").text("Deselect");
                    deselectButton.on('click', function () {
                        $(div).css("border", "");
                    });

                    div.append(titleParagraph)
                            .append(authorParagraph)
                            .append(ISBN_Paragraph)
                            .append(selectButton)
                            .append(deselectButton);

                    $(selector).append(div);
            }
        }) ();
</script>
</body>
</html>
